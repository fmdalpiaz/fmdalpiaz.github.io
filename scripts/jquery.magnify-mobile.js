"use strict";!function(s){s.fn.magnify&&(s("<style>.lens-mobile {position:fixed;top:0;left:0;width:100%;height:100%;background:#ccc;display:none;overflow:scroll;-webkit-overflow-scrolling:touch;z-index:9999;}.magnify-mobile>.close {position:fixed;top:10px;right:10px;width:32px;height:32px;background:#333;border-radius:16px;color:#fff;display:inline-block;font:normal bold 20px/32px sans-serif;letter-spacing:0;opacity:0.8;text-align:center;text-shadow:none;z-index:9999;}@media only screen and (min-device-width:320px) and (max-device-width:773px) {/* Assume QHD (1440 x 2560) is highest mobile resolution */.lens-mobile { display:block; }}</style>").appendTo("head"),s(window).on("load",function(){s("body").append('<div class="magnify-mobile"><div class="lens-mobile"></div></div>');var a=s(".lens-mobile");if(a.is(":visible")&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints)){var i=s(".magnify"),e=s(".magnify-mobile");i.off(),e.hide().append('<i class="close">&times;</i>'),e.children(".close").on(i.data("mobileCloseEvent"),function(){e.toggle()}),i.children("img").on({touchend:function(){if(!s(this).data("drag")){var i=s(this).data("scrollOffset");e.toggle(),a.scrollLeft(i.x),a.scrollTop(i.y)}},touchmove:function(){s(this).data("drag",!0)},touchstart:function(i){a.html('<img src="'+s(this).prev(".magnify-lens").css("background-image").replace(/url\(["']?|["']?\)/g,"")+'" alt="">');var e=s(this),o=e.data("zoomSize"),t=(i.originalEvent.touches[0].pageX-e.offset().left)/e.width(),n=(i.originalEvent.touches[0].pageY-e.offset().top)/e.height();e.data("scrollOffset",{x:o.width*t-window.innerWidth/2,y:o.height*n-window.innerHeight/2}),s(this).data("drag",!1)}})}}))}(jQuery);