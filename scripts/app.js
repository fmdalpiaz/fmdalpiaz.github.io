"use strict";var FIC=FIC||[];$(document).ready(function(){if(!sessionStorage.getItem("viewState")){sessionStorage.setItem("viewState",btoa(JSON.stringify({displayGuide:!0,visitedLinks:[]})))}for(var e in FIC)"function"==typeof FIC[e].init&&FIC[e].init()}),FIC.Home={datasheetHandler:function(){var e=$(".datasheet");$(document).on("click",".datasheet-link",function(){e.addClass("open").one("touchend click",function(){$(this).removeClass("open")})}),$("#help-button").hover(function(){$("#help-text").removeClass("gato__help__ballon--hide"),$("#help-text").addClass("gato__help__ballon--show")},function(){$("#help-text").addClass("gato__help__ballon--hide"),$("#help-text").removeClass("gato__help__ballon--show")})},init:function(){FIC.Home.datasheetHandler(),$(".section__link").on("click",function(){var e=JSON.parse(atob(sessionStorage.getItem("viewState"))),i=$(this).attr("href").replace(".html","");e.visitedLinks.find(function(e){return e===i})||e.visitedLinks.push(i),sessionStorage.removeItem("viewState"),sessionStorage.setItem("viewState",btoa(JSON.stringify(e)))}),this.setVisitedLinks(),this.startFirstGuideTalk()},setVisitedLinks:function(){JSON.parse(atob(sessionStorage.getItem("viewState"))).visitedLinks.map(function(e){return $('[href="'+e+'.html"]').addClass("section__link--visited")})},startFirstGuideTalk:function(){var e=JSON.parse(atob(sessionStorage.getItem("viewState")));e.displayGuide&&(window.setTimeout(function(){$("#guide-talk-1").removeClass("gato__help__ballon--hide"),$("#guide-talk-1").addClass("gato__help__ballon--show")},3e3),window.setTimeout(function(){$("#guide-talk-1").removeClass("gato__help__ballon--show"),$("#guide-talk-1").addClass("gato__help__ballon--hide"),$("#guide-talk-2").removeClass("gato__help__ballon--hide"),$("#guide-talk-2").addClass("gato__help__ballon--show")},1e4),window.setTimeout(function(){$("#guide-talk-2").removeClass("gato__help__ballon--show"),$("#guide-talk-2").addClass("gato__help__ballon--hide")},2e4),e.displayGuide=!1,sessionStorage.removeItem("viewState"),sessionStorage.setItem("viewState",btoa(JSON.stringify(e))))}},FIC.Slides={currentSlide:1,totalSlides:0,$slides:void 0,showHideSlides:function(e,i){FIC.Slides.$slides.filter(e+", "+i).toggleClass("hide"),FIC.Slides.$slides.filter(i).data("gallery")?FIC.Slides.$slides.parent().addClass("section--gallery"):FIC.Slides.$slides.parent().removeClass("section--gallery")},controlSlidesHandler:function(){$(document).on("click",".slide__control--prev",function(){var e=FIC.Slides.currentSlide;1===FIC.Slides.currentSlide?window.location.href="/":FIC.Slides.currentSlide-=1,FIC.Slides.showHideSlides(".slide--"+e,".slide--"+FIC.Slides.currentSlide)}),$(document).on("click",".slide__control--next",function(){var e=FIC.Slides.currentSlide;FIC.Slides.currentSlide===FIC.Slides.totalSlides?window.location.href="/":FIC.Slides.currentSlide+=1,FIC.Slides.showHideSlides(".slide--"+e,".slide--"+FIC.Slides.currentSlide)})},swapInteractionHandler:function(){var e=$(".slide__interaction--swap");if(e.length){var a=e.find(".swap__btn");a.on("click",function(){var e=$(this),i=e.data("swap"),t=e.parents(".slide__interaction--swap").find(".swap__figure"),s=t.data("src");a.removeClass("active"),e.addClass("active"),t.attr("src",s+i+".jpg")})}},setPortraitTops:function(e,i){var t=[];e.filter(".active").each(function(){t.push(this.getAttribute("data-swap"))}),-1!==t.indexOf("olhos")&&-1!==t.indexOf("oculos")&&t.pop(),i.attr("src",0===t.length?"./../img/retratos/autorretrato.jpg":"./../img/retratos/retrato/"+t.join("_")+".jpg")},portraitTopsHandler:function(){var e=$(".slide__interaction--portrait");if(e.length){var i=e.find(".portrait-tops__btn"),t=e.find(".portrait-figure");i.on("click",function(){$(this).toggleClass("active"),FIC.Slides.setPortraitTops(i,t)})}},swapHandler:function(){var e=$(".slide__interaction--swap");e.length&&e.find("figure").eq(0).on("touchend click",function(){$(this).addClass("d-none"),e.find("figure").eq(1).removeClass("d-none")})},outlineHandler:function(){var i=$(".slide--7 .slide__button");i.length&&i.on("touchend click",function(){i.find("img:first-child").removeClass("d-none"),i.find("img:nth-child(2)").addClass("d-none"),$(this).find("img:first-child").addClass("d-none"),$(this).find("img:nth-child(2)").removeClass("d-none");var e=i.index(this);$(".outline__figure").addClass("d-none"),$(".outline__figure").eq(e).removeClass("d-none")})},modalsHandler:function(){$(document).on("touchend click",".slide__figure[data-modal]",function(){var e=$(this).data("modal");$(e).addClass("show")}).on("touchend click",".modal__close",function(){$(this).parents(".modal").removeClass("show")})},backPageHandler:function(){$(document).on("click",".logo",function(){history.back()})},showAnimation:function(){$(document).on("touchend click","img[data-animation]",function(){var e=$(this),i=e.data("animation");e.attr("src",i)})},lightsHandler:function(){var e=$(".section.section--natureza");if(e.length){var t=e.find(".lights .slide__figure");e.find("a.light__item").on("click",function(e){e.preventDefault(),$(this).toggleClass("active");var i=this.className.match(/\d+/);t.toggleClass("shadow--"+i)})}},landscapesHandler:function(){var s=$(".section--paisagem");if(s.length){var e=s.find(".images-left .slide__figure"),i=s.find(".images-right .slide__figure");e.on("click",function(){var e=$(this);$(".gato").removeClass("erro"),e.toggleClass("selected"),i.toggleClass("selectable"),e.hasClass("selected")?$(".slide__figure").not(".selected").addClass("unselected"):$(".slide__figure").removeClass("unselected")}),i.on("click",i,function(){var e=$(this),i=s.find(".images-left .slide__figure.selected"),t=e.data("image-answer");i.data("image-answer")===t?($(".answer"+i.data("image-answer")).show(),e.addClass("right-answer"),i.addClass("right-answer"),s.find(".images-left .slide__figure").removeClass("selected").removeClass("unselected"),s.find(".images-right .slide__figure").removeClass("selectable"),$(".gato").removeClass("erro")):$(".gato").addClass("erro")})}},init:function(){FIC.Slides.$slides=$(".slide"),FIC.Slides.totalSlides=FIC.Slides.$slides.length,FIC.Slides.canvasHeight=875,0<FIC.Slides.totalSlides&&FIC.Slides.controlSlidesHandler(),FIC.Slides.swapInteractionHandler(),FIC.Slides.portraitTopsHandler(),FIC.Slides.outlineHandler(),FIC.Slides.swapHandler(),FIC.Slides.modalsHandler(),FIC.Slides.backPageHandler(),FIC.Slides.showAnimation(),FIC.Slides.lightsHandler(),FIC.Slides.landscapesHandler()}};